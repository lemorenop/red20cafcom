import{B as c}from"./BarChart.KOKhGWM3.js";import{g as n}from"./colors.DR0mxEkc.js";import{z as u}from"./BaseChart.BPIYNeR_.js";class h extends c{async initialize(){await super.initialize(),this.setupCountrySelect()}setupCountrySelect(){const e=[...new Set(this.rawData.map(a=>a.country))].sort();this.countrySelect=this.container.querySelector("#country-select"),this.countrySelect&&(e.forEach(a=>{const t=document.createElement("option");t.value=a,t.textContent=a,this.countrySelect.appendChild(t)}),this.countrySelect.value=this.t("América Latina"),this.countrySelect.addEventListener("change",()=>{this.updateChart()}))}updateChart(){const e=this.countrySelect.value;e&&(this.chart.data=this.getDatasetByCountry(e),this.chart.forceLegendUpdate())}getDatasetByCountry(e){const a=this.rawData.filter(t=>t.country===e);if(a)return{labels:[...new Set(a.map(t=>t.quintile))].sort(),datasets:[this.t("Hombre"),this.t("Mujer")].map((t,i)=>({label:t,data:a.filter(r=>r.gender===t).sort((r,l)=>parseInt(r.quintile)-parseInt(l.quintile)).map(r=>({x:r.quintile,y:r.value,year:r.year})),backgroundColor:n(i),borderColor:n(i)}))}}getData(){return this.getDatasetByCountry(this.t("América Latina"))}getOptions(){return this.mergeOptions(super.getOptions(),{plugins:{tooltip:{footerColor:"black",callbacks:{title:e=>{const a=e[0]?.label;let t=`${this.t("Quintil")} ${a}`;const i=e[0].dataset.data[e[0].dataIndex].year;return i&&(t+=` (${this.t("Año")} ${i})`),t},label:u.labelFormatter(e=>e.parsed.y,{...this.getFormatOptions(),suffix:` ${this.t("Horas").toLocaleLowerCase()}`})}}}})}}function o(){try{new h("C3-G12b")}catch{}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",o):o();
