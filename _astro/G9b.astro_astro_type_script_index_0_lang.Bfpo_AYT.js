import{B as f,w as x}from"./BaseChart.BPIYNeR_.js";import{g as y}from"./colors.DR0mxEkc.js";class C extends f{xKey="eplex";yKey="informalityRate";labelKey="country";getTrendline(){const e=this.rawData.length,t=this.rawData,a=this.xKey,b=this.yKey;let n=0,r=0,d=0,c=0;t.forEach(s=>{const l=Number(s[a]),p=Number(s[b]);n+=l,r+=p,d+=l*p,c+=l*l});const i=(e*d-n*r)/(e*c-n*n),o=(r-i*n)/e,u=Math.min(...t.map(s=>Number(s[a]))),m=Math.max(...t.map(s=>Number(s[a])));return{slope:i,intercept:o,points:[{x:u,y:i*u+o},{x:m,y:i*m+o}]}}getType(){return"scatter"}getData(){const e=this.rawData.map(a=>({x:a.eplex,y:a.informalityRate,label:a.country})),t=this.getTrendline();return{datasets:[{label:this.t("LPE vs. informalidad"),data:e,backgroundColor:y(0),pointRadius:5,pointHoverRadius:7},{label:this.t("Línea de tendencia"),data:t.points,type:"line",borderWidth:1,borderDash:[5,5],borderColor:y(1),fill:!1,pointRadius:0,datalabels:{display:!1}}]}}getOptions(){return this.mergeOptions(super.getOptions(),{scales:{x:{title:{display:!0,text:this.t("Índice de protección al empleo")}},y:{title:{display:!0,text:this.t("Tasa de informalidad (%)")},ticks:{callback:this.ticksAsPercentage()}}},plugins:{legend:{display:!1},htmlLegend:{display:!1},tooltip:{mode:"nearest",callbacks:{title:e=>{const t=e[0];return t.dataset.data[t.dataIndex].label},label:e=>{const t=e.raw;if(t.label)return[`${this.t("Índice de LPE")}: ${this.formattedValue(t.x)}`,`${this.t("Tasa de informalidad")}: ${this.valueAsPercentage(t.y)}`]}}},datalabels:{display:!0,anchor:"end",align:"end",offset:-4}}})}getPlugins(){return[...super.getPlugins(),x]}}function h(){try{new C("C2-G9b")}catch{}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",h):h();
