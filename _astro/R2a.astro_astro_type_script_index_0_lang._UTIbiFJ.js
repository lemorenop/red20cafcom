import{B as s}from"./BaseChart.BPIYNeR_.js";import{g as a}from"./colors.DR0mxEkc.js";class l extends s{setupControls(){this.setupOptionSelect()}setupOptionSelect(){const e={category:this.t("Conexión al servicio en áreas rurales y urbanas"),time:this.t("Conexión al servicio en los últimos 20 años")};this.optionSelect=this.container.querySelector("#option-select"),this.optionSelect&&Object.entries(e).forEach(([t,n])=>{const r=document.createElement("option");r.value=t,r.textContent=n,this.optionSelect.appendChild(r)}),this.optionSelect.addEventListener("change",()=>{this.updateChart()})}updateChart(){const e=this.optionSelect.value;if(e){let t;switch(e){case"category":t=this.getDataByCategory();break;case"time":t=this.getDataByTime();break}t&&(this.chart.data=t,this.chart.update())}}getType(){return"scatter"}getDataSortedByCountry(){return this.rawData.sort((e,t)=>e.country===this.t("Promedio ALyC")?1:e.country.localeCompare(t.country))}getDataByCategory(){const e=this.getDataSortedByCountry().filter(t=>t.urban!==null||t.rural!==null);return{labels:e.map(t=>t.country),datasets:[{label:this.t("Urbano"),data:e.map(t=>({x:t.country,y:t.urban})),backgroundColor:a(0,"rgb",.75),borderColor:a(0),radius:5,hoverRadius:7},{label:this.t("Rural"),data:e.map(t=>({x:t.country,y:t.rural})),backgroundColor:a(1,"rgb",.75),borderColor:a(1),radius:5,hoverRadius:7}]}}getDataByTime(){const e=this.getDataSortedByCountry();return{labels:e.map(t=>t.country),datasets:[{label:this.t("Actualidad"),data:e.map(t=>({x:t.country,y:t.current})),backgroundColor:a(0,"rgb",.75),borderColor:a(0),radius:5,hoverRadius:7},{label:this.t("Comienzos del siglo"),data:e.map(t=>({x:t.country,y:t.startOfCentury})),backgroundColor:a(1,"rgb",.75),borderColor:a(1),radius:5,hoverRadius:6}]}}getData(){return this.getDataByCategory()}getOptions(){return this.mergeOptions(super.getOptions(),{interaction:{mode:"index",intersect:!0},scales:{x:{type:"category"},y:{min:0,title:{display:!0,text:this.t("Porcentaje de hogares")},ticks:{callback:this.ticksAsPercentage()}}},plugins:{tooltip:{boxPadding:4,labelAsPercentage:!0},legend:{position:"bottom",labels:{usePointStyle:!0,pointStyle:"circle",boxWidth:8,boxHeight:8}}}})}}function i(){try{new l("C4-R2a")}catch(o){console.log(o)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i();
