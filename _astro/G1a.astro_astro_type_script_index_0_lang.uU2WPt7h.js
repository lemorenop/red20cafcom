import{K as p,s as m,f as r}from"./BaseChart.BPIYNeR_.js";import{R as c}from"./RangeChart.BicBIVok.js";import{g as u}from"./colors.DR0mxEkc.js";import"./LineChart.d0G-umA_.js";class h extends c{labelFormat(t){return parseFloat(t).toFixed(2).toString()}updateChart(t,e){const a=p(this.rawData,t,e);this.chart.data.labels=a.map(s=>this.labelFormat(s.emissions)),this.chart.data.datasets[0].data=a.map(s=>parseFloat(s.temperature)),this.chart.options.scales.x2.ticks.callback=(s,i)=>a[i].year,this.chart.update()}getData(){return{labels:this.rawData.map(t=>t.emissions),datasets:[{label:this.t("Temperatura"),data:this.rawData.map(t=>t.temperature),...this.getDatasetLineOptions(u(0))}]}}getOptions(){return this.mergeOptions(super.getOptions(),{scales:{x:{type:"linear",display:!0,title:{display:!0,text:this.t("Emisiones acumuladas de CO2 desde 1850 (gigatoneladas)")},grid:{display:!1},ticks:{stepSize:100}},x2:{display:!1,position:"top",grid:{drawOnChartArea:!1},ticks:{callback:(t,e)=>this.rawData[e].year},title:{display:!0,text:"Año"}},y:{display:!0,title:{display:!0,text:m(this.t("Temperatura de la superficie global evaluada en relación con 1850-1900 (°C)"),40)}}},plugins:{htmlLegend:{display:!1},tooltip:{mode:"index",callbacks:{title:t=>{const e=t.map(a=>a.chart.options.scales.x2.ticks.callback("",a.dataIndex)).join(" ");return`${this.t("Año")}: ${e}`},label:t=>{const e=t.dataIndex,a=t.chart.data.labels.map((o,d)=>({temperature:t.chart.data.datasets[0].data[d],emissions:o}))[e],s=r(a.temperature,{...this.getFormatOptions(),suffix:" °C"}),i=r(a.emissions,{...this.getFormatOptions(),suffix:" Gt"});return[`${this.t("Temperatura")}: ${s}`,`${this.t("Emisiones")}: ${i}`]}}}}})}}function l(){try{new h("C4-G1a")}catch{}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",l):l();
