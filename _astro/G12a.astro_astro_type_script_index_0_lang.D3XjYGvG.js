import{B as u}from"./BarChart.KOKhGWM3.js";import{g as n}from"./colors.DR0mxEkc.js";import"./BaseChart.BPIYNeR_.js";class h extends u{async initialize(){await super.initialize(),this.setupCountrySelect()}setupCountrySelect(){const e=[...new Set(this.rawData.map(a=>a.country))].sort();this.countrySelect=this.container.querySelector("#country-select"),this.countrySelect&&(e.forEach(a=>{const t=document.createElement("option");t.value=a,t.textContent=a,this.countrySelect.appendChild(t)}),this.countrySelect.value=this.t("América Latina y el Caribe"),this.countrySelect.addEventListener("change",()=>{this.updateChart()}))}updateChart(){const e=this.countrySelect.value;e&&(this.chart.data=this.getDatasetByCountry(e),this.chart.forceLegendUpdate())}getDatasetByCountry(e){const a={low:this.t("Baja"),medium:this.t("Media"),high:this.t("Alta")},t=this.rawData.filter(r=>r.country===e);if(t)return{labels:t.map(r=>r.category),datasets:Object.entries(a).map(([r,c],i)=>({label:c,data:t.map(l=>parseFloat(l[r])*100),backgroundColor:n(i),borderColor:n(i)}))}}getData(){return this.getDatasetByCountry(this.t("América Latina y el Caribe"))}getOptions(){return this.mergeOptions(super.getOptions(),{scales:{y:{ticks:{callback:this.ticksAsPercentage()}}},plugins:{tooltip:{labelAsPercentage:!0}}})}}function s(){try{new h("C3-G12a")}catch{}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s):s();
