import{L as h}from"./LineChart.d0G-umA_.js";import{g as u}from"./colors.DR0mxEkc.js";import"./BaseChart.BPIYNeR_.js";class l extends h{async initialize(){await super.initialize(),this.setupCountrySelect()}setupCountrySelect(){const t=[...new Set(this.rawData.map(a=>a.country))].sort();this.countrySelect=this.container.querySelector("#country-select"),this.countrySelect&&(t.forEach(a=>{const e=document.createElement("option");e.value=a,e.textContent=a,this.countrySelect.appendChild(e)}),this.countrySelect.addEventListener("change",()=>{this.updateChart()}))}updateChart(){const t=this.countrySelect.value;t&&(this.chart.data=this.getDatasetByCountry(t),this.chart.forceLegendUpdate())}getDatasetByCountry(t){const a={ageGroup0To14:this.t("0 a 14 años"),ageGroup15To24:this.t("15 a 24 años"),ageGroup25To34:this.t("25 a 34 años"),ageGroup35To44:this.t("35 a 44 años"),ageGroup45To54:this.t("45 a 54 años"),ageGroup55To64:this.t("55 a 64 años"),ageGroup65Plus:this.t("65 en adelante")},e=this.rawData.filter(s=>s.country===t);if(e)return{labels:e.map(s=>s.year).sort(),datasets:Object.entries(a).map(([s,n],o)=>({label:n,data:e.map(c=>c[s]),...this.getDatasetLineOptions(u(o))}))}}getData(){return this.years===void 0&&(this.years=[...new Set(this.rawData.map(t=>parseInt(t.year)))].sort(),this.minYear=this.years[0],this.maxYear=this.years[this.years.length-1]),this.getDatasetByCountry(this.t("América Latina"))}getOptions(){return this.mergeOptions(super.getOptions(),{scales:{y:{type:"linear",min:0,beginArzero:!0,ticks:{callback:this.ticksAsPercentage()}}},plugins:{tooltip:{mode:"index",labelAsPercentage:!0}}})}}function r(){try{new l("C3-G1a")}catch{}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r();
