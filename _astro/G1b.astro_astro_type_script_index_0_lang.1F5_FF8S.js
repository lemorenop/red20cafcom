import{B as d}from"./BarChart.KOKhGWM3.js";import{g as i}from"./colors.DR0mxEkc.js";import"./BaseChart.BPIYNeR_.js";class u extends d{async initialize(){await super.initialize(),this.setupCountrySelect()}setupCountrySelect(){const e=[...new Set(this.rawData.map(t=>t.country))].sort();this.countrySelect=this.container.querySelector("#country-select"),this.countrySelect&&(e.forEach(t=>{const a=document.createElement("option");a.value=t,a.textContent=t,this.countrySelect.appendChild(a)}),this.countrySelect.addEventListener("change",()=>{this.updateChart()}))}updateChart(){const e=this.countrySelect.value;e&&(this.chart.data=this.getDatasetByCountry(e),this.chart.forceLegendUpdate())}getDatasetByCountry(e){const t={moderate:this.t("Pobreza"),extreme:this.t("Pobreza extrema")},a=this.rawData.filter(r=>r.country===e);if(a)return{labels:a.map(r=>r.group),datasets:Object.entries(t).map(([r,c],n)=>({label:c,data:a.map(l=>l[r]),backgroundColor:i(n),borderColor:i(n)}))}}getData(){return this.getDatasetByCountry(this.t("AmÃ©rica Latina"))}getOptions(){return this.mergeOptions(super.getOptions(),{indexAxis:"y",scales:{y:{grid:{display:!1}}},plugins:{tooltip:{mode:"index",labelAxis:"x"},datalabels:{anchor:"end",align:"end",formatter:(e,t)=>t.chart.data.labels[t.dataIndex]!==""?e:""}}})}}function o(){try{new u("C3-G1b")}catch{}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",o):o();
