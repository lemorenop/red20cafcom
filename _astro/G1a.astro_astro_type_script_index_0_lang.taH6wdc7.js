import{J as n}from"./BaseChart.BPIYNeR_.js";import{g as s}from"./colors.DR0mxEkc.js";import{L as c}from"./LineChart.d0G-umA_.js";class h extends c{DEFAULT_COUNTRY="AmÃ©rica Latina y el Caribe";async initialize(){await super.initialize(),this.setupCountrySelect()}setupCountrySelect(){const a=[...new Set(this.rawData.map(t=>t.country))].sort();this.countrySelect=this.container.querySelector("#country-select"),this.countrySelect&&(a.forEach(t=>{const e=document.createElement("option");e.value=t,e.textContent=t,this.countrySelect.appendChild(e)}),this.countrySelect.value=this.t(this.DEFAULT_COUNTRY),this.countrySelect.addEventListener("change",()=>{this.updateChart()}))}updateChart(){const a=this.countrySelect.value;if(a){if(a===this.t(this.DEFAULT_COUNTRY)&&this.chart.data.datasets.length>1)this.chart.data.datasets.pop(),this.chart.data.labels.pop();else{const t=this.getDatasetByCountry(a);this.chart.data.datasets.lenght>1?this.chart.data.datasets.push(t):this.chart.data.datasets[1]=t}this.chart.forceLegendUpdate()}}getDatasetByCountry(a){const t=this.rawData.find(e=>e.country===a);return t?{label:t.country,data:Object.entries(t).filter(([e])=>e!=="country").sort(([e],[r])=>e-r).map(([e,r])=>({x:e,y:r})),backgroundColor:s(1),borderColor:s(1),borderWidth:1.5,pointRadius:1.8}:{}}getData(){return{datasets:[{...this.getDatasetByCountry(this.t(this.DEFAULT_COUNTRY)),backgroundColor:s(0),borderColor:s(0)}]}}getOptions(){return this.mergeOptions(super.getOptions(),{scales:{y:{ticks:{callback:n.labelFormatter(a=>a,{decimalPlaces:0})}},x:{ticks:{autoSkip:!1}}}})}}function i(){try{new h("C2-G1a")}catch{}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i();
