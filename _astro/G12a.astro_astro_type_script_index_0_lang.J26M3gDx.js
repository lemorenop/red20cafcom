import{L as d}from"./LineChart.d0G-umA_.js";import"./BaseChart.BPIYNeR_.js";class h extends d{defaultRegion="América del Sur";async initialize(){await super.initialize(),this.updateChart()}setupControls(){this.setupRegionSelect()}setupRegionSelect(){const i=[...new Set(this.rawData.map(a=>a.region))].sort();this.regionSelect=this.container.querySelector("#region-select"),this.regionSelect&&(i.forEach(a=>{const n=document.createElement("option");n.value=a,n.textContent=a,this.regionSelect.appendChild(n)}),this.regionSelect.value=this.t(this.defaultRegion),this.regionSelect.addEventListener("change",this.updateChart.bind(this)))}updateChart(){const i=this.regionSelect.value;i&&(this.chart.data=this.getDataByRegion(i),this.chart.forceLegendUpdate())}getChartType(){return"line"}getDataByRegion(i){const a=this.rawData.filter(e=>e.region==i).sort((e,s)=>e.country.localeCompare(s.country)||e.quarter.localeCompare(s.quarter)),n=[...new Set(a.map(e=>e.quarter))].sort(),o=[...new Set(a.map(e=>e.country))].sort(),r=["#008080","#FF7F50","#87CEEB","#FFD700","#32CD32","#E6E6FA","#E9967A","#9370DB","#98FB98","#6495ED","#CC5500","#D3D3D3","#00008B"];return{labels:n.map(e=>e),datasets:o.map((e,s)=>({label:e,data:a.filter(t=>t.country===e).sort((t,l)=>t.quarter.localeCompare(l.quarter)).map(t=>({x:t.quarter,y:t.inflationLogarithm,q:t.quarter.slice(5)})),backgroundColor:r[s],borderColor:r[s],borderWidth:1.5,radius:0,pointStyle:"line"}))}}getData(){return this.getDataByRegion(this.defaultRegion)}getOptions(){const o=Array.from({length:Math.floor(13)+1},(r,e)=>1970+e*4);return this.mergeOptions(super.getOptions(),{scales:{y:{title:{display:!0,text:this.t("Log. de la inflación trimestral anualizada")}},x:{type:"category",grid:{display:!1},ticks:{autoSkip:!1,callback:(r,e,s)=>{if(this.chart!==void 0){const t=this.chart.scales.x.getLabelForValue(r),l=parseInt(t.slice(0,4),10);return t.endsWith("q1")&&o.includes(l)?t.slice(0,4):""}}}}},plugins:{htmlLegend:{display:!0},verticalHoverLine:{enabled:!1},legend:{display:!1,position:"bottom",align:"end",labels:{usePointStyle:!0,pointStyle:"line"},onClick:r=>{r.native.preventDefault()}},tooltip:{usePointStyle:!0,callbacks:{title:r=>{const e=r?.[0];if(e)return`${e.label.slice(0,4)}`}}}}})}handleMediaQuery(i){}}function c(){try{new h("C1-G12a")}catch{}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c();
