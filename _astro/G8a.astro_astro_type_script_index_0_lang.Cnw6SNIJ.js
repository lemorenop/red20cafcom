import{B as c}from"./BarChart.KOKhGWM3.js";import{g as l}from"./colors.DR0mxEkc.js";import"./BaseChart.BPIYNeR_.js";class u extends c{async initialize(){await super.initialize(),this.setupCountrySelect()}setupCountrySelect(){const e=[...new Set(this.rawData.map(t=>t.country))].sort();this.countrySelect=this.container.querySelector("#country-select"),this.countrySelect&&(e.forEach(t=>{const a=document.createElement("option");a.value=t,a.textContent=t,this.countrySelect.appendChild(a)}),this.countrySelect.value=this.t("América Latina y el Caribe"),this.countrySelect.addEventListener("change",()=>{this.updateChart()}))}updateChart(){const e=this.countrySelect.value;e&&(this.chart.data=this.getDatasetByCountry(e),this.chart.forceLegendUpdate())}getDatasetByCountry(e){const t=this.rawData.filter(r=>r.country===e).sort((r,s)=>parseInt(r.year)-parseInt(s.year)),a=["primaryMen","primaryWomen","secondaryMen","secondaryWomen","tertiaryMen","tertiaryWomen"];if(t)return{labels:[this.t("Hombres"),this.t("Mujeres"),this.t("Hombres"),this.t("Mujeres"),this.t("Hombres"),this.t("Mujeres")],datasets:t.map((r,s)=>({label:r.year,data:a.map(o=>parseFloat(r[o])*100),backgroundColor:l(s)}))}}getData(){return this.getDatasetByCountry(this.t("América Latina y el Caribe"))}getOptions(){return this.mergeOptions(super.getOptions(),{scales:{x:{},xLevel:{type:"category",offset:!0,grid:{display:!0,color:"transparent",tickColor:"rgba(0,0,0,0.1)"},labels:[this.t("Primaria"),this.t("Secundaria"),this.t("Superior")]},y:{ticks:{callback:this.ticksAsPercentage()}}},plugins:{legend:{labels:{pointStyle:"rect"}},tooltip:{labelAsPercentage:!0}}})}}function i(){try{new u("C3-G8a")}catch{}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i();
