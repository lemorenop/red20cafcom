import{B as d,z as h}from"./BaseChart.BPIYNeR_.js";import{g as r}from"./colors.DR0mxEkc.js";class u extends d{setupControls(){this.setupCountrySelect(),this.setupResetButton()}setupCountrySelect(){const e=[...new Set(this.rawData.map(t=>t.region))].filter(t=>t!==null).sort(),i=Object.fromEntries(e.map(t=>[t,[]]));this.rawData.forEach(t=>{t.region&&i[t.region].push(t.country)}),this.countrySelect=this.container.querySelector("#country-select"),this.countrySelect&&(Object.entries(i).forEach(([t,a])=>{const n=document.createElement("optgroup");n.label=t,a.forEach(s=>{const o=document.createElement("option");o.value=s,o.textContent=s,n.appendChild(o)}),this.countrySelect.appendChild(n)}),this.countrySelect.addEventListener("change",this.updateChart.bind(this)))}setupResetButton(){this.resetButton=this.container.querySelector("#reset-button"),this.resetButton&&this.resetButton.addEventListener("click",()=>{this.countrySelect.value="",this.chart.data=this.getData(),this.chart.options.plugins.legend.title.text=this.t("Promedio"),this.chart.update()})}updateChart(){const e=this.countrySelect.value;if(e){const i=this.rawData.find(t=>t.country===e);if(i){const t=this.getAveragesData().find(a=>a.region===i.region);t&&(this.chart.data.datasets.splice(0,1/0),this.chart.data.datasets.push({label:i.country,data:Object.keys(this.getLabelMapping()).map(a=>i[a]),backgroundColor:r(1,"rgb",.1),pointBackgroundColor:r(1),borderColor:r(1),borderWidth:2}),this.chart.data.datasets.push({label:t.region,data:Object.keys(this.getLabelMapping()).map(a=>t[a]),backgroundColor:r(0,"rgb",.1),pointBackgroundColor:r(0),borderColor:r(0),borderWidth:2}),this.chart.options.plugins.legend.title.text="",this.chart.update())}}}getType(){return"radar"}getAveragesData(){return this.rawData.filter(e=>e.country===null)}getLabelMapping(){return{dstIndex:this.t("Índice de restricción del comercio de servicios digitales"),digitalServices:this.t("Servicios entregables digitalmente"),cyberIndex:this.t("Índice global de ciberseguridad"),aiReadiness:this.t("Capital humano - preparación para IA"),techInvestment:this.t("Promoción gubernamental de inversiones en tecnologías emergentes"),logisticIndex:this.t("Índice de desempeño logístico"),connectivityIndex:this.t("Índice de conectividad móvil"),ictImports:this.t("Importaciones de bienes de capital TIC")}}getData(){const e=[];return this.getAveragesData().forEach((i,t)=>{e.push({label:i.region,data:Object.keys(this.getLabelMapping()).map(a=>i[a]),backgroundColor:r(t,"rgb",.1),pointBackgroundColor:r(t),borderColor:r(t),borderWidth:2})}),{labels:Object.values(this.getLabelMapping()),datasets:e}}getOptions(){return this.mergeOptions(super.getOptions(),{responsive:!0,maintainAspectRatio:!0,aspectRatio:"2",interaction:{intersect:!0,mode:"index"},scales:{r:{beginAtZero:!0,max:1,min:0}},plugins:{htmlLegend:{display:!1},legend:{display:!0,position:"right",labels:{usePointStyle:!0,pointStyle:"circle",boxWidth:5,boxHeight:5},title:{display:!0,font:{weight:700,size:14},text:[this.t("Promedio")]},onClick:e=>{e.native.preventDefault()}},tooltip:{usePointStyle:!0,boxPadding:4,callbacks:{label:h.labelFormatter(e=>e.parsed.r,this.getFormatOptions())}}}})}handleMediaQuery(e){}}function c(){try{new u("C1-G21a")}catch{}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c();
